#-----------------------------------------------------------
# Vivado v2015.3 (64-bit)
# SW Build 1368829 on Mon Sep 28 20:06:39 MDT 2015
# IP Build 1367837 on Mon Sep 28 08:56:14 MDT 2015
# Start of session at: Fri Apr 28 15:17:19 2017
# Process ID: 4019
# Current directory: /afs/slac.stanford.edu/g/lsst/daq/REB_prog_files
# Command line: vivado -mode batch -source ./flash_load.tcl -tclargs ./REB_v5/reb_v5_daq_v1/reb_v5_2/REB_v5_top_30325002.mcs
# Log file: /afs/slac.stanford.edu/g/lsst/daq/REB_prog_files/vivado.log
# Journal file: /afs/slac.stanford.edu/g/lsst/daq/REB_prog_files/vivado.jou
#-----------------------------------------------------------
source ./flash_load.tcl
# open_hw
# connect_hw_server -url localhost:3121
INFO: [Labtools 27-2285] Connecting to hw_server url TCP:localhost:3121
INFO: [Labtools 27-2222] Launching hw_server...
INFO: [Labtools 27-2221] Launch Output:

****** Xilinx hw_server v2015.3
  **** Build date : Sep 28 2015-20:24:25
    ** Copyright 1986-1999, 2001-2015 Xilinx, Inc. All Rights Reserved.


# current_hw_target [get_hw_targets]
# set_property PARAM.FREQUENCY 30000000 [get_hw_targets]
# open_hw_target
INFO: [Labtoolstcl 44-466] Opening hw_target localhost:3121/xilinx_tcf/Digilent/210308A12659
# current_hw_device [lindex [get_hw_devices] 0]
# create_hw_cfgmem -hw_device [lindex [get_hw_devices] 0] -mem_dev  [lindex [get_cfgmem_parts {n25q256-3.3v-spi-x1_x2_x4}] 0]
# set_property PROGRAM.BLANK_CHECK  0 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.ERASE  1 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.CFG_PROGRAM  1 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.VERIFY  1 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.CHECKSUM  0 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# refresh_hw_device [lindex [get_hw_devices] 0]
INFO: [Labtools 27-2302] Device xc7k160t (JTAG device index = 0) is programmed with a design that has 1 SPI core(s).
# set_property PROGRAM.ADDRESS_RANGE  {use_file} [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.FILES ./[lindex $argv 0]  [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0]]
# set_property PROGRAM.UNUSED_PIN_TERMINATION {pull-none} [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.BLANK_CHECK  0 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.ERASE  1 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.CFG_PROGRAM  1 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.VERIFY  1 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# set_property PROGRAM.CHECKSUM  0 [ get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
# startgroup 
# if {![string equal [get_property PROGRAM.HW_CFGMEM_TYPE  [lindex [get_hw_devices] 0]] [get_property MEM_TYPE [get_property CFGMEM_PART [get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]]]] }  { create_hw_bitstream -hw_device [lindex [get_hw_devices] 0] [get_property PROGRAM.HW_CFGMEM_BITFILE [ lindex [get_hw_devices] 0]]; program_hw_devices [lindex [get_hw_devices] 0]; };
INFO: [Labtools 27-3164] End of startup status: HIGH
# program_hw_cfgmem -hw_cfgmem [get_property PROGRAM.HW_CFGMEM [lindex [get_hw_devices] 0 ]]
Mfg ID : 20   Memory Type : ba   Memory Capacity : 19   Device ID 1 : 0   Device ID 2 : 0
Performing Erase Operation...
INFO: [Common 17-41] Interrupt caught. Command should exit soon.
Erase Operation successful.
ERROR: [Labtools 27-2248] Operation was cancelled.
ERROR: [Labtools 27-3161] Flash Programming Unsuccessfull
program_hw_cfgmem: Time (s): cpu = 00:00:00.67 ; elapsed = 00:01:10 . Memory (MB): peak = 1138.191 ; gain = 25.000 ; free physical = 251 ; free virtual = 45085
INFO: [Common 17-344] 'program_hw_cfgmem' was cancelled
INFO: [Common 17-17] undo 'startgroup'
INFO: [Common 17-344] 'source' was cancelled
INFO: [Common 17-206] Exiting Vivado at Fri Apr 28 15:18:35 2017...
